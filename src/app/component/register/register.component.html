
<section class=" p-2 my-5 rounded-4">
    <h1 class="h2 ">Register Now:</h1>

    <form [formGroup]="registerform" (ngSubmit)="registersubmit()">
        <div class="my-2">
            <label for="name">name:</label>
            <input [ngClass]="
            {
                'is-valid':!registerform.get('name')?.errors &&registerform.get('name')?.touched ,
                'is-invalid':registerform.get('name')?.errors  &&registerform.get('name')?.touched,

            }" id="name" type="text" class="form-control p-1" formControlName="name" >


          @if(registerform.get("name")?.errors &&(registerform.get("name")?.touched ||registerform.get("name")?.dirty))
          {
            <div class="alert alert-danger w-50">
                @if(registerform.get("name")?.getError("required"))
                {
                    <p class="m-0">Name Is Required .</p>
                }
                @else if (registerform.get("name")?.getError("minlength")) {
                    <p class="m-0">"Name Should be more than or equal  3 chars".</p>
                }
                @else if (registerform.get("name")?.getError("maxlength")) {
                    <p class="m-0">"Name Should be less than or equal  20 chars".</p>
                }
            </div>
          }
        </div>
        <div class="my-2">
            <label for="email">email:</label>
            <input  [ngClass]="
            {
                'is-valid':!registerform.get('email')?.errors &&registerform.get('email')?.touched,
                'is-invalid':registerform.get('email')?.errors &&registerform.get('email')?.touched,

            }" id="email" type="email" class="form-control p-1" formControlName="email">

            @if(registerform.get("email")?.errors &&(registerform.get("email")?.touched||registerform.get("email")?.dirty))
            {
              <div class="alert alert-danger w-50">
                  @if(registerform.get("email")?.getError("required"))
                  {
                      <p class="m-0">Email Is Required .</p>
                  }
                  @else if (registerform.get("email")?.getError("email")) {
                      <p class="m-0">Enter Valid Email.</p>
                  }
                 
              </div>
            }
        </div>
        <div class="my-2">
            <label for="password">password:</label>
            <input  [ngClass]="
            {
                'is-valid':!registerform.get('password')?.errors &&registerform.get('password')?.touched,
                'is-invalid':registerform.get('password')?.errors &&registerform.get('password')?.touched,

            }"
             id="password" type="password" class="form-control p-1" formControlName="password">

            @if(registerform.get("password")?.errors &&registerform.get("password")?.touched)
            {
              <div class="alert alert-danger w-50">
                  @if(registerform.get("password")?.getError("required"))
                  {
                      <p class="m-0">password Is Required .</p>
                  }
                  @else if (registerform.get("password")?.getError("pattern")) {
                      <p class="m-0">Enter Valid password.</p>
                  }
                 
              </div>
            }
        </div>
        <div class="my-2">
            <label for="rePassword">rePassword:</label>
            <input  [ngClass]="
            {
                'is-valid':!registerform.get('rePassword')?.errors &&registerform.get('rePasswor')?.touched,
                'is-invalid':registerform.get('rePassword')?.errors &&registerform.get('rePasswor')?.touched,

            }" id="rePassword" type="password" class="form-control p-1" formControlName="rePassword">

            
            @if(registerform.getError("mismatch")&&(registerform.get("rePassword")?.touched||registerform.get("rePassword")?.dirty))
            {
                <p class="m-0 alert alert-danger w-50">password confirmation is incorrect</p>
            }
        </div>
         
        <div class="my-2">
            <label for="phone">phone:</label>
            <input  [ngClass]="
            {
                'is-valid':!registerform.get('phone')?.errors&&registerform.get('phone')?.touched,
                'is-invalid':registerform.get('phone')?.errors&&registerform.get('phone')?.touched,

            }" id="phone" type="number" class="form-control p-1" formControlName="phone">

            @if(registerform.get("phone")?.errors &&(registerform.get("phone")?.touched||registerform.get("phone")?.dirty))
            {
              <div class="alert alert-danger w-50">
                  @if(registerform.get("phone")?.getError("required"))
                  {
                      <p class="m-0">phone Is Required .</p>
                  }
                  @else if (registerform.get("phone")?.getError("pattern")) {
                       <p class="m-0">Enter phone valid .</p>
                  }
                 
              </div>
            }
        </div>
        <button  [disabled]="registerform.invalid || isloading" type="submit" class="btn-main ms-auto d-block">
            Register
           @if(isloading)
           {
            <span>
                <i class="fas fa-spin fa-spinner"></i>
            </span>
           }
        </button>
       

        @if(masErro)
        {
            <p class="alert alert-danger w-50 m-0">{{masErro}}</p>
        }



        @if(mesSuacces){
            <p class="text-green">success</p>
        }
    </form>
</section>

